<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Umfrage</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f7f1e3;
            padding: 2em;
            max-width: 800px;
            margin: auto;
        }
        h1 {
            text-align: center;
            color: #4B2E1D;
        }
        form {
            background: #fff;
            padding: 2em;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .frageblock {
            margin-bottom: 2em;
        }
        .frageblock label {
            display: block;
            font-weight: normal;
            margin-bottom: 0.5em;
        }
        .frageblock > label:first-child {
            font-weight: bold;
        }
        .likert {
            display: flex;
            justify-content: space-between;
        }
        .likert label {
            text-align: center;
            flex: 1;
        }
        .likert input {
            margin-bottom: 0.5em;
        }
        button {
            display: block;
            margin: auto;
            padding: 0.7em 2em;
            font-size: 1em;
            background: #6f4f28;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        select {
            width: 100%;
            padding: 0.5em;
            font-size: 1em;
        }
    </style>
</head>
<body>
    <h1>Umfrage zum Exitgame</h1>
    <form action="/submit_survey" method="POST">
        <input type="hidden" name="session_id" value="{{ session.sid }}">

        <!-- Demografische Fragen -->
        <div class="frageblock">
            <label for="alter">1. Wie alt bist du?</label>
            <select name="alter" id="alter" required>
                <option value="">Bitte wählen</option>
                <option value="<18">&lt;18</option>
                <option value="18-25">18–25</option>
                <option value="26-35">26–35</option>
                <option value="36-45">36–45</option>
                <option value=">45">&gt;45</option>
            </select>
        </div>

        <div class="frageblock">
            <label for="geschlecht">2. Geschlecht</label>
            <select name="geschlecht" id="geschlecht" required>
                <option value="">Bitte wählen</option>
                <option value="m">m</option>
                <option value="w">w</option>
                <option value="d">divers</option>
            </select>
        </div>

        <div class="frageblock">
            <label for="bildungsstand">3. Was ist dein höchster Bildungsabschluss?</label>
            <select name="bildungsstand" id="bildungsstand" required>
                <option value="">Bitte wählen</option>
                <option value="kein Abschluss">kein Abschluss</option>
                <option value="Hauptschulabschluss">Hauptschulabschluss</option>
                <option value="Realschulabschluss">Realschulabschluss</option>
                <option value="(Fach-)Hochschulreife">(Fach-)Hochschulreife</option>
                <option value="Bachelorabschluss">Bachelorabschluss</option>
                <option value="Masterabschluss oder höher">Masterabschluss oder höher</option>
            </select>
        </div>

        <div class="frageblock">
            <label for="exitgame_erfahrung">4. Hattest du bereits Erfahrung mit Exitgames?</label>
            <select name="exitgame_erfahrung" id="exitgame_erfahrung" required>
                <option value="">Bitte wählen</option>
                <option value="ja">ja</option>
                <option value="nein">nein</option>
            </select>
        </div>

        <div class="frageblock">
            <label for="chatbot_nutzung">5. Wie häufig interagierst du mit einem Chatbot?</label>
            <select name="chatbot_nutzung" id="chatbot_nutzung" required>
                <option value="">Bitte wählen</option>
                <option value="täglich">täglich</option>
                <option value="wöchentlich">wöchentlich</option>
                <option value="monatlich">monatlich</option>
                <option value="nie">seltener oder nie</option>
            </select>
        </div>

        <div class="frageblock" id="strategien">
            <label for="strategien">6. Welche der folgenden Strategien/Herangehensweisen hast du beim Lösen des Rätsels eingesetzt? (Mehrfachauswahl möglich)</label>
            <div>
                <label><input type="checkbox" name="strategien" value="erkundung"> Ich habe zuerst die Umgebung erkundet, bevor ich eine konkrete Lösungsidee hatte.</label><br>
                <label><input type="checkbox" name="strategien" value="versuch_und_irrtum"> Ich habe verschiedene Möglichkeiten ausprobiert, ohne vorher einen festen Plan zu haben.</label><br>
                <label><input type="checkbox" name="strategien" value="hypothesen"> Ich habe Vermutungen über Zusammenhänge aufgestellt und diese gezielt überprüft.</label><br>
                <label><input type="checkbox" name="strategien" value="analyse"> Ich habe einzelne Hinweise genau analysiert und Stück für Stück zusammengesetzt.</label><br>
                <label><input type="checkbox" name="strategien" value="reflexion"> Ich habe meine Vorgehensweise bewusst reflektiert und gegebenenfalls angepasst.</label><br>
                <label><input type="checkbox" name="strategien" value="flexibilitaet"> Ich habe meine Lösungsidee oder mein Vorgehen verändert, wenn neue Informationen nicht mehr dazu gepasst haben.</label><br>
                <label><input type="checkbox" name="strategien" value="muster"> Ich habe nach wiederkehrenden Zeichen oder Symbolen gesucht, um eine Regel oder ein Muster zu erkennen.</label><br>
                <label><input type="checkbox" name="strategien" value="wenn_dann"> Ich habe überlegt, was passieren könnte, wenn bestimmte Dinge zusammenhängen oder nacheinander passieren (zum Beispiel: Wenn dieses Symbol wichtig ist, dann muss ich die dazugehörige Rune verwenden.)</label><br>
                <label><input type="checkbox" name="strategien" value="ausschluss"> Ich habe nach dem Ausschlussprinzip gearbeitet und bewusst irrelevante Hinweise oder Informationen ausgeschlossen.</label><br>
                <label><input type="checkbox" name="strategien" value="transfer"> Ich habe mein Wissen über Symbole oder Zusammenhänge genutzt, um Hinweise zu verstehen. (z.B. „Der Mond zeigt sich in der Nacht, das habe ich mit einem Hinweis in Verbindung gebracht.“)</label><br>
                <label><input type="checkbox" name="strategien" value="bot_impuls"> Ich habe versucht das Rätsel eigenständig (ohne Hilfe des Chatbots) zu lösen.</label><br>
                <label><input type="checkbox" name="strategien" value="ko_konstruktion"> Ich habe mich bewusst auf die Zusammenarbeit mit dem Chatbot eingelassen.</label><br>
                <label><input type="checkbox" name="strategien" value="keine"> Keine dieser Strategien habe ich bewusst verwendet.</label>
            </div>
        </div>


        {% set fragen = [
            "Ich hatte das Gefühl, mit einem menschenähnlichen Partner zu interagieren",
            "Der Chatbot hatte eine eigene Persönlichkeit",
            "Der Chatbot zeigte Emotionen und Empathie",
            "Der Chatbot hat mir geholfen, mein Vorgehen besser zu strukturieren",
            "Der Chatbot hat mir geholfen, Muster und Zusammenhänge besser zu erkennen",
            "Ich habe mein Vorgehen angepasst, wenn der Chatbot neue Perspektiven eingebracht hat",
            "Durch den Chatbot konnte ich neue Lösungsideen entwickeln",
            "Der Chatbot hat mich dazu gebracht, mein eigenes Denken und/oder Vorgehen zu hinterfragen",
            "Ich habe meine Lösungsideen gemeinsam mit dem Chatbot entwickelt",
            "Ich hatte das Gefühl, vom Chatbot verstanden zu werden",
            "Ich habe die Hinweise des Chatbots hinterfragt",
            "Ich habe eher den Chatbot gefragt als selbst nachzudenken",
            "Der Chatbot hat mein Vertrauen in meine eigenen Fähigkeiten gestärkt",
            "Der Chatbot hat mich motiviert, auch bei Schwierigkeiten weiterzumachen",
            "Durch die Zusammenarbeit mit dem Chatbot konnte ich meine eigenen Stärken und Schwächen beim Problemlösen besser einschätzen"
        ] %}

        {% for frage in fragen %}
        <div class="frageblock">
            <label>{{ loop.index+6 }}. {{ frage }}</label>
            <div class="likert">
                <label><input type="radio" name="frage{{ loop.index }}" value="1" required>1<br>stimme überhaupt nicht zu</label>
                <label><input type="radio" name="frage{{ loop.index }}" value="2">2</label>
                <label><input type="radio" name="frage{{ loop.index }}" value="3">3</label>
                <label><input type="radio" name="frage{{ loop.index }}" value="4">4</label>
                <label><input type="radio" name="frage{{ loop.index }}" value="5">5<br>stimme voll und ganz zu</label>
            </div>
        </div>
        {% endfor %}

        <div class="frageblock">
            <label for="vorgehen">22. Wie bist du beim Lösen des Rätsels konkret vorgegangen? (Beispiel: „Ich habe mir zuerst alle Elemente angeschaut und versucht, ein Muster zu erkennen. Danach habe ich Schritt für Schritt mögliche Kombinationen ausprobiert.“ / „Ich habe intuitiv geraten und dann versucht, über Ausschluss die richtige Lösung zu finden.“ / „Ich habe versucht, das Problem in kleinere Teilaufgaben zu zerlegen.“)</label>
            <small>Beispiel: „Ich habe zuerst die Steintafel mit dem Runenalphabet gesucht, danach die Runenabfolge im Holz verglichen und mit den Symbolen auf den Goldmünzen kombiniert.“
                    Oder: „Ich habe mir zuerst den Text im Holz angeschaut und versucht, damit die Bedeutung der Symbole zu entschlüsseln.“
                    Oder: „Ich habe verschiedene Runen ausprobiert, die ich für richtig hielt, bis der Code stimmte.“</small>
            <textarea name="vorgehen" id="vorgehen" rows="6" required style="width:100%;"></textarea>
        </div>

        <div class="frageblock">
            <label for="interaktion">23. Welche Rolle hatte der Chatbot für dich beim Rätsel lösen? </label>
            <small>Beispiel: „Der Chatbot hat mir geholfen, zu verstehen, welche Hinweise wichtig sind und wie sie zusammenhängen - z.B. dass der Texthinweis mit den Symbolen auf den Runenabfolgen kombiniert werden muss.“
                Oder: „Ich habe immer erst den Bot gefragt, bevor ich selbst nachgedacht habe.“
                Oder: „Ich habe den Chatbot fast gar nicht gebraucht.“
                Oder: „Die Hinweise vom Bot haben meine Vermutungen bestätigt – z.B. dass die Symbole auf den Goldmünzen wichtig sind.“</small>
            <textarea name="interaktion" id="interaktion" rows="6" required style="width:100%;"></textarea>
        </div>


        <div class="frageblock">
            <label for="kommunikation">24. Gab es etwas, das dir beim Lösen besonders geholfen oder dich gestört hat?</label>
            <textarea name="kommunikation" id="kommunikation" rows="6" style="width:100%;"></textarea>
        </div>

        <div class="frageblock">
            <label for="feedback">25. Möchtest du sonst noch etwas mitteilen?</label>
            <textarea name="feedback" id="feedback" rows="6" style="width:100%;"></textarea>
        </div>



        <button type="submit">Absenden</button>
    </form>
</body>
</html>
